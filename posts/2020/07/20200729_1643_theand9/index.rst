.. title: gsoc_journey.update({“Chapter 2”: [“First Evaluations”, “Google Foobar?”]})
.. slug:
.. date: 2020-07-29 16:43:01 
.. tags: stingray
.. author: Amogh Desai
.. link: https://medium.com/@andsbmp17/gsoc-journey-update-chapter-2-first-evaluations-google-foobar-d4a51e01685d?source=rss-3ed41af55c89------2
.. description:
.. category: gsoc2020


.. raw:: html

    <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*wmLYBAA422_jyF9QSWqS6w.jpeg" /><figcaption>The James Webb Space Telescope is the $10 Billion successor to the Hubble Space Telescope. It can peer back into primordial times to show images of how the universe looked like around a quarter of a billion years after the Big Bang when the first stars and galaxies started to form.</figcaption></figure><p>Evaluation, a dreaded 10-letter word(just counted the number of letters😅) that brings stress and anxiety in everyone from a small kid to a golden-ager(sounds so much better than ‘old-person’ doesn’t it!!). The Cambridge dictionary defines evaluation <em>(noun)</em>, <em>ɪˌvæl.juˈeɪ.ʃən, </em>as <strong>“ the process of judging or calculating the quality, importance, amount, or value of something”. <br>
    </strong>Evaluations bring the best or worst out of people. I work better under pressure, I am one of those guys who cannot work until the room is on fire😂(I have a better phrase but it doesn’t quite qualify as PG-13😜).</p>
    <p>Evaluations although simple(the procedure) in GSoC are a big deal as they determine if you get (cue the Heavenly choir sound effect) <strong>the monthly stipend</strong>🤑, just kidding, they determine if the student will be allowed to continue their projects. There are three <strong><em>main </em></strong>evaluations, one after each month to quantify if the project achieves the goals that it intended to and if the time was utilized most efficiently for the greatest possible impact.</p>
    <!-- TEASER_END -->
    <p>Now I understand procedural information is pretty boring so let’s directly jump to the fun stuff.</p>
    <h3>The Google FooBar Challenege</h3><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*FvygSOchRZWfDLrq4QB9GQ.png" /><figcaption>Looks like an invitation from a secret society!!</figcaption></figure><p>It happened at around 9:00 am on 9th of June, I had pulled an all-nighter and was half-asleep, finding ways to optimize stingray, when on typing _________ my browser window pivoted, the above image unfolded, my eyes widened, heartbeat skyrocketed, I looked in awe at my screen and then blinked 100 times, washed my face to truly confirm what I was seeing was true. <br>
    It was the GOOGLE FOOBAR CHALLENGE!</p>
    <p>The FooBar challenge is a coveted, hidden challenge, a special invitation that is only sent to a selected few(makes me feel like James Bond😜). FooBar is Google’s secret hiring challenge. Google uses this to hire some of the best developers around the globe which they think can be a good match for their organization. <br>
    Google sends an invitation based on one’s search history and problem-solving related keyword searches. If hidden magic in the Google search algorithm chooses you, you may receive an invitation for Google Foobar(makes me feel like Harry Potter😂).</p>
    <blockquote>Curious developers are known to seek interesting problems. Solve one from Google?</blockquote><p>Without thinking twice I instantly clicked <em>‘I want to play’. </em>A black screen with a command-line interface greeted me.</p>
    <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*sxh-YA_0437rxf5lu4r8mA.png" /><figcaption><strong><em>Objects we ardently pursue bring little happiness when gained; most of our pleasures come from unexpected sources.</em></strong></figcaption></figure><p>The FooBar challenge is essentially an online, time-bound Competitive Programming(CP) challenge with 5 rounds of increasing difficulty, each round having a different number of questions. <br>
    To spice things up (both in terms of interest and difficulty) Google has a storyline, progressing through the challenges you are asked for a friend who you’d like to refer for the challenge and eventually some personal details.</p>
    <p>FooBar proved to be a great learning experience for me as I’m not proficient in CP. I felt that the main aim was not to test the skills and knowledge of an individual but also how quickly they could learn and implement solutions.<br>
    To learn more about FooBar you could read this <a href="https://medium.com/plutonic-services/things-you-should-know-about-google-foobar-invitation-703a535bf30f">article</a>.</p>
    <h3>First GSoC Evaluation</h3><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*Vw7I5eOtqMVRWRRLQcJKiw.png" /><figcaption>The Google Summer of Code Dashboard a friend who I only see once every month😂😂</figcaption></figure><p>The first evaluations were scheduled from the June 29, 2020 — July 3, 2020. My mentor Matteo and I had finalized on two main deliverables crucial for the foundations of the project. <br>
    1. A <a href="https://github.com/StingraySoftware/stingray/blob/9d7fa8a76d70df1eeb4501cb7ce701fb8e5bddf0/Benchmarks/Benchmark%20Analysis%20Report%202020%20-%20stingray.pdf">benchmark analysis report</a> containing the time and memory benchmarks, profiling results for <strong>all the 31 functions</strong>(3000+ lines of code)in the <a href="https://github.com/StingraySoftware/stingray/blob/master/stingray/lightcurve.py">Lightcurve</a>, <a href="https://github.com/StingraySoftware/stingray/blob/master/stingray/powerspectrum.py">Powerspectrum</a>, <a href="https://github.com/StingraySoftware/stingray/blob/master/stingray/crossspectrum.py">Crossspectrum</a>, AveragedPowerspectrum and AveragedCrossspectrum classes. <br>
    2. Integrating <a href="https://asv.readthedocs.io/en/stable/">airspeed velocity</a>, a tool for benchmarking Python packages over their lifetime into stingray.</p>
    <p>The benchmark analysis report was a very time consuming yet possibly the most important step of the project. It singled out the functions that were causing the most delay and provided an overall estimate of the performance of stingray.</p>
    <p>Benchmarking was performed in jupyter-notebooks. Data points of sizes ranging from 1,000(1K) to 100,000,000(100M) were used for benchmarking. For basic benchmarking, the %timeit and %memit magic commands were used. Two profilers <a href="http://joerick.me/posts/2017/12/15/pyinstrument-20/">Pyinstrument</a> and <a href="https://docs.python.org/3/library/profile.html#module-cProfile">CProfile</a> were used to profile time and <a href="https://pypi.org/project/filprofiler/">filprofiler</a> was used to profile memory use. <br>
    The results of the CProfile were saved as a <em>.pstats</em> file which was then visualized using <a href="https://jiffyclub.github.io/snakeviz/">Snakeviz</a> and <a href="https://github.com/jrfonseca/gprof2dot">gprof2dot</a> in the form of a graphical viewer and call-graph respectively. <br>
    The results of the Pyinstrument and filprofiler were saved as HTML files.<br>
    The results of the <em>%timeit</em> and <em>%memit</em> magic commands was visualized in an interactive <a href="https://plotly.com/">Plotly</a> graph in the jupyter-notebook itself and also saved as an HTML file for easier access.</p>
    <p>The result of all of this was <strong>535 </strong>files<strong> </strong>ready for analysis, compiled into a <strong>74-page</strong> <a href="https://github.com/StingraySoftware/stingray/blob/9d7fa8a76d70df1eeb4501cb7ce701fb8e5bddf0/Benchmarks/Benchmark%20Analysis%20Report%202020%20-%20stingray.pdf">document</a>, <strong>9 </strong>new GitHub issues and <strong>3</strong> new Pull Requests(for now, more to come soon).<br>
    The functions causing the main slowdown i.e. <em>check_lightcurve, counts_err, cross_two_gtis, sort_counts, join, fourier_cross, rebin_data, rms_error, gti_border_bins, check_gtis, operation_with_other_lc and p_multitrial_from_single_trial </em>were identified. These were further analyzed line-wise for deeper insights(also included in the document).</p>
    <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*q3I5H5d6R8BEj73q7-YuAA.png" /><figcaption>These look beautiful in the picture but analyzing 535 of these is super tedious!</figcaption></figure><p>airspeed velocity is a powerful tool that helps track the performance of a project over time, commit after commit. It is essentially a set of tests that can be run after every commit/change to check if the performance has been altered. It is used by numpy, scipy and astropy. The documentation is very well written(<em>sighs with relief</em>). <br>
    Thus, integrating airspeed velocity was <em>comparatively </em>easier.</p>
    <p><strong><em>A brief personal submission</em></strong><br>
    The thing I enjoy the most about GSoC is that just like most of you reading this article, I didn’t know, rather hadn’t even heard the names of all the tools I used and am probably adept at right now. <br>
    I start working every day not knowing how to solve the task(often daunting) in front of me or what the day holds. But at the end of the day, I’m confident that I’ve learnt something new. <br>
    This excites me and I look forward to every new day working on my GSoC project</p>
    <p>You can check out my repository for airspeed velocity below. There is a link on the right side that leads to a webpage which looks relatively empty at the moment, someday hopefully, it will look like <a href="https://pv.github.io/numpy-bench/">numpy’s asv</a> page.</p>
    <p><a href="https://github.com/theand9/stingray-benchmarks">theand9/stingray-benchmarks</a></p>
    <p>You can also check the benchmarks I have performed below.</p>
    <p><a href="https://github.com/StingraySoftware/stingray/pull/477">Benchmarking Stingray -&gt; GSoC 2020 by theand9 · Pull Request #477 · StingraySoftware/stingray</a></p>
    <p>Thank you soo much for giving it a read. Please comment and leave a clap if you liked the article. Feel free to reach out to me on <a href="https://www.linkedin.com/in/theand9/">Linkedin</a>.<br>
    Have an amazing day!! <strong>You are awesome!!!</strong></p>
    <img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=d4a51e01685d" width="1" height="1">

